---
title: 文件上传
date: 2019-09-05 13:11:19
categories: "文件上传与下载"
tags: [IO,springboot]
---

### 文件上传就是io

<!--more-->
前端部分
```
<body>
<span>文件上传示例</span>

	<form action="/uploadFile" method="post" enctype="multipart/form-data">
		上传文件：<input type="file" name="file"><br>
		<input type="submit" value="上传">
	</form>
</body>
```
后端部分
```
@ResponseBody
	@PostMapping(value="uploadFile",produces="application/json;charset=UTF-8")
	public String uploadFile(MultipartFile file,HttpServletRequest request,HttpServletResponse response) throws IOException{
		//获取到文件名
		String fileName = file.getOriginalFilename();
		String newFileName = "D://images//"+makeFileName(fileName);
		Path path = Paths.get(newFileName);
		InputStream in = file.getInputStream();
		Files.copy(in, path);
		in.close();
		return "上传成功";
	}

	/**
	 * 文件名加UUID
	 * @param fileName
	 * @return
	 */
	public String makeFileName(String fileName){
		String UUIDFileName = UUID.randomUUID().toString()+"_"+fileName;
		return UUIDFileName;
	}
```


<!-- # 使用 pv 记录方式，每访问一次，记录一次--> 
<span id="busuanzi_container_page_pv">  本文总阅读量<span id="busuanzi_value_page_pv"></span>次</span>